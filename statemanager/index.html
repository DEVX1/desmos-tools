<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<title>Desmos 3D state manager</title>
		
		<meta name="theme-color" content="#222">
		
		<link rel="stylesheet" type="text/css" href="../assets/css/main.css" />
		<link rel="stylesheet" type="text/css" href="./stylesheet.css" />
		
		<script src="../assets/js/jquery-3.1.1.min.js"></script>
		<script src="https://www.desmos.com/api/v0.8/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
	</head>
	<body>
		<header>
			<div class="title-container">
			<span class="logo">desmos</span>
			<span class="title">State Manager</span>
			</div>
		</header>
		
		<div id="calculator"></div>
		
		<div class="btn-container">
			<button id="get-btn" type="button">Get state</button>
			<button id="load-btn" type="button">Load state</button>
		</div>
		
		<textarea id="print-box" spellcheck="false"></textarea>
		
		<script>
			var elt = document.getElementById('calculator');
			var box = document.getElementById('print-box');
			var state;
			var stateString;
			
			var calculator = Desmos.GraphingCalculator(elt, {border: false});
			calculator.setExpression({id: 'graph1', latex: 'y=x^2'});
			
			$('#get-btn').click(function(){
				state = calculator.getState();
				stateString = JSON.stringify(state);
				box.value = stateString;
			});
			
			$('#load-btn').click(function(){
				stateString = box.value;
				state = JSON.parse(stateString);
				calculator.setState(state);
			});
		</script>	
	</body>
</html>
